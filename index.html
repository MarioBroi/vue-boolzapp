<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- font awesome -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
        rel="stylesheet">
    <!-- google font -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- bootstrap -->
    <title>Boolzapp Vue</title>
</head>

<body>

    <div id="appMain">

        <div class="left">

            <div class="user-profile">
                <div class="avatar">
                    <img src="./assets/img/avatar_io.jpg" alt="" class="avatar">
                </div>
                <div class="icons">
                    <i class="fa-solid fa-circle-notch"></i>
                    <i class="fa-solid fa-message"></i>
                    <i class="fa-solid fa-ellipsis-vertical"></i>
                </div>
            </div>
            <!-- /.user-profile -->

            <div class="notifications">
                <div class="notifications-icon">
                    <i class="fa-solid fa-bell-slash"></i>
                </div>
                <!-- /.notifications-icon -->

                <div class="notification-text">
                    <strong>Ricevi notifiche di nuovi messaggi</strong>
                    <a href="">Attiva notifiche desktop</a>
                </div>
                <!-- /.notification-text -->
            </div>
            <!-- /.notifications -->

            <div class="search">
                <i class="fa-solid fa-magnifying-glass"></i>
                <form action="">
                    <input type="text" placeholder="Cerca o inizia una nuova chat">
                </form>
            </div>
            <!-- /.search -->

            <div class="contacts-list d-flex flex-column">

                <div class="contacts d-flex flex-column">
                    <div class="user-icon-column" v-for="(contact,index) in contacts" @click="changeContact(index)">
                        <img :src="contact.avatar" :alt="contact.name" class="avatar">
                        <div class="user-name">
                            <strong>{{contact.name}}</strong>
                        </div>
                        <!-- /.user-name -->
                        <div class="msg-preview">
                            {{contact.lastMsg}}
                        </div>
                        <!-- /.msg-preview -->
                        <div class="msg-time">
                            12:00
                        </div>
                        <!-- /.msg-time -->
                    </div>
                    <!-- /.user-icon-column -->
                </div>
                <!-- /.contacts -->

            </div>
            <!-- /.contacts-list -->

        </div>
        <!-- /.left -->

        <div class="right">

            <div class="contact-profile">

                <div class="user-icon">
                    <img src="./assets/img/avatar_1.jpg" alt="" class="avatar">
                </div>
                <!-- /.user-icon -->
                <div class="user-name">
                    <strong>Michele</strong>
                    <div class="msg-preview">Ultimo accesso oggi alle 16:26</div>
                </div>
                <!-- /.user-name -->
                <div class="utility-icons">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <i class="fa-solid fa-paperclip"></i>
                    <i class="fa-solid fa-ellipsis-vertical"></i>
                </div>
                <!-- /.uility-icons -->

            </div>
            <!-- /.contact-profile -->

            <div class="chat">

                <div class="sent">
                    <div class="left-chat">
                        <p>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga sapiente cumque ipsam
                            laboriosam
                            quam iure consectetur nam, quos quasi dolores eius qui! Est minus error quaerat aperiam
                            eos
                            iure
                            optio, ducimus aliquid, deleniti accusantium delectus aliquam!
                        </p>
                    </div>
                    <!-- /.left-chat -->

                    <div class="right-chat">
                        <i class="fa-solid fa-chevron-down"></i>
                        <span>16:13</span>
                    </div>
                    <!-- /.right-chat -->
                </div>
                <!-- /.sent -->

                <div class="received">
                    <div class="left-chat">

                        <div v-for="(firstMessage, mIndex) in contacts[clickedContact].messages">
                            <!-- sto ciclando il contatto cliccato e prendendo tutte le key dentro messages -->
                            <span>{{firstMessage.message}}</span>
                            <!-- sto stampando il risultato ciclato prendendo la key message -->
                            <!-- come estraggo un messaggio da ogni array messages?  -->

                        </div>
                        <!-- TEST -->

                    </div>
                    <!-- /.left-chat -->
                    <div class="right-chat">
                        <i class="fa-solid fa-chevron-down"></i>
                        <span>16:13</span>
                    </div>
                    <!-- /.right-chat -->
                </div>
                <!-- /.received -->

            </div>
            <!-- /.chat -->

            <div class="prompt">

                <div class="emotes">
                    <i class="fa-regular fa-face-smile"></i>
                </div>
                <!-- /.emotes -->

                <form action="">
                    <input type="text" placeholder="Scrivi un messaggio">
                </form>

                <div class="vocal">
                    <i class="fa-solid fa-microphone"></i>
                </div>
                <!-- /.vocal -->
            </div>
            <!-- /.prompt -->
        </div>
        <!-- /.right -->

    </div>
    <!-- /#app-main -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="./assets/js/app.js"></script>
</body>

</html>